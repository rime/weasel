name: Commit CI

on:
  workflow_dispatch:
  push:
    branches:
      - '*'
    tags:
      - '![0-9]+.*'
    paths:
      - '**/**'
      - '!*.md'
      - '!.gitignore'
  pull_request:

jobs:
  repository_dispatch_test:
    runs-on: ubuntu-latest
    steps:
      - name: trigger workflow in fxliang/rimeseeme
        uses: peter-evans/repository-dispatch@v2
        with:
          token: ${{ secrets.REPO_DISPATCH_PAT }}
          repository: fxliang/RimeSeeMe
          event-type: repository_dispatch_event
          client-payload: '{"branch": "repo_dispatch"}'
